# Forketyfork Dev Blog

[![Build status](https://github.com/forketyfork/forketyfork.github.io/actions/workflows/build.yml/badge.svg)](https://github.com/forketyfork/forketyfork.github.io/actions/workflows/build.yml)
[![MIT License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![HTML](https://img.shields.io/badge/language-css-yellow.svg)](https://www.w3.org/Style/CSS/Overview.en.html)


A retro-styled developer blog with an 80s aesthetic, built for GitHub Pages using Jekyll and deployed automatically via GitHub Actions.

## Quick Start

### With direnv (Recommended)

1. Install direnv and setup:
   ```shell
   # Install direnv (macOS example)
   brew install direnv
   # Add to shell: eval "$(direnv hook zsh)" or eval "$(direnv hook bash)"
   
   # Setup project
   cachix use forketyfork
   direnv allow
   ```

2. Start development (environment loads automatically):
   ```shell
   just hooks  # Install pre-commit hooks (one-time setup)
   just serve  # Start development server
   ```

### Manual Setup

1. Setup development environment:
   ```shell
   cachix use forketyfork
   nix develop
   ```

2. Install pre-commit hooks:
   ```shell
   just hooks
   ```

3. Start development server:
   ```shell
   just serve
   ```

## Architecture

### Project Structure
- **`jekyll/`**: Jekyll source files (posts, layouts, config)
- **`css/`**: Stylesheets for the retro 80s theme
- **`js/`**: JavaScript files bundled with Webpack
- **`img/`**: Static images and assets
- **`_site/`**: Generated site output (auto-generated)

### Technology Stack
- **Jekyll 4.4.1**: Static site generator
- **Ruby 3.4.3**: Runtime environment
- **Webpack 5**: Asset bundling and optimization
- **Nix**: Reproducible development environment
- **direnv**: Automatic environment loading (optional)
- **Just**: Command runner for development tasks
- **GitHub Actions**: Automated deployment to GitHub Pages

### Deployment
The site is automatically deployed via GitHub Actions when pushing to the `main` branch:
1. Webpack builds and bundles assets
2. Jekyll generates the static site
3. Site is deployed to GitHub Pages

## Writing Posts

1. Create a new markdown file in `jekyll/_posts/`
2. Name it using the format: `YYYY-MM-DD-title.md`
3. Add the following front matter:
   ```yaml
   ---
   layout: post
   title: "Your Post Title"
   date: YYYY-MM-DD
   tags: [Tag1, Tag2, Tag3]
   ---
   ```
4. Write your post content in Markdown below the front matter
5. Commit and push to GitHub - your post will be automatically built and published!

## Customization

- Edit `jekyll/_config.yml` to modify site settings
- Adjust colors and effects in `css/custom.css`
- Modify layouts in `jekyll/_layouts/`
- Update webpack configuration in `webpack.*.js` files

## Development

This project uses Nix for reproducible development environments and manages Jekyll dependencies through bundler.

### Key Commands

All development commands are managed through `just` (run `just --list` for all options):

- **Local development**: `just serve` (builds assets and starts server)
- **Quick restart**: `just serve-quick` (skips asset rebuild)
- **Build assets**: `just build` (webpack production build)
- **Asset development**: `just dev` (webpack dev server with hot reload)
- **Update dependencies**: `just deps` (regenerates Gemfile.lock and gemset.nix)
- **Install pre-commit hooks**: `just hooks`
- **Clean workspace**: `just clean` (removes generated files)
- **Environment status**: `just status` (shows development setup status)

### Dependencies
- Ruby 3.4.3 with Jekyll 4.4.1
- Node.js with Webpack 5 for asset bundling
- Nix flake manages the complete development environment
- Pre-commit hooks automatically update `gemset.nix` when `Gemfile` changes

### Important Notes
- Jekyll source files are in the `jekyll/` directory - all `just` commands handle this automatically
- **Use just commands**: All development tasks are streamlined through `just` - no need for manual webpack/Jekyll coordination
- **Automatic environment**: With direnv, the Nix environment loads automatically when you `cd` into the project
- **Environment setup**: `just serve` automatically configures the development environment
- After changing `Gemfile`, both `Gemfile.lock` and `gemset.nix` are automatically regenerated by the pre-commit hook
- The Nix flake ensures `gemset.nix` stays in sync with `Gemfile.lock`
- Use `just deps` to manually regenerate dependency files if needed

### Comment System Development
The blog uses [Giscus](https://giscus.app/) for comments with custom 80s retro styling:

- **Custom CSS**: Edit `css/giscus-custom.css` for comment styling
- **Local testing**: Giscus loads CSS from localhost during development 
- **CORS support**: Development plugin automatically adds CORS headers
- **Workflow**: 
  1. Run `just giscus` to start development with helpful tips
  2. Edit CSS → `just build` → refresh browser to see changes
- **Quick development**: Use `just serve-quick` for faster restarts between CSS changes

## License

MIT
